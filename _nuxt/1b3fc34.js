(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{236:function(t,e,n){var r=n(19),o="["+n(237)+"]",c=RegExp("^"+o+o+"*"),d=RegExp(o+o+"*$"),l=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(c,"")),2&t&&(n=n.replace(d,"")),n}};t.exports={start:l(1),end:l(2),trim:l(3)}},237:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},238:function(t,e,n){var content=n(249);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(64).default)("53c5ebe5",content,!0,{sourceMap:!1})},243:function(t,e,n){"use strict";var r=n(10),o=n(4),c=n(86),d=n(16),l=n(12),f=n(45),h=n(173),y=n(66),m=n(6),v=n(69),_=n(67).f,x=n(32).f,k=n(15).f,w=n(236).trim,S="Number",E=o.Number,N=E.prototype,A=f(v(N))==S,I=function(t){var e,n,r,o,c,d,l,code,f=y(t,!1);if("string"==typeof f&&f.length>2)if(43===(e=(f=w(f)).charCodeAt(0))||45===e){if(88===(n=f.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(f.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+f}for(d=(c=f.slice(2)).length,l=0;l<d;l++)if((code=c.charCodeAt(l))<48||code>o)return NaN;return parseInt(c,r)}return+f};if(c(S,!E(" 0o1")||!E("0b1")||E("+0x1"))){for(var C,O=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof O&&(A?m((function(){N.valueOf.call(n)})):f(n)!=S)?h(new E(I(e)),n,O):I(e)},M=r?_(E):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),T=0;M.length>T;T++)l(E,C=M[T])&&!l(O,C)&&k(O,C,x(E,C));O.prototype=N,N.constructor=O,d(o,S,O)}},244:function(t,e,n){"use strict";var r=n(2),o=n(236).trim;r({target:"String",proto:!0,forced:n(245)("trim")},{trim:function(){return o(this)}})},245:function(t,e,n){var r=n(6),o=n(237);t.exports=function(t){return r((function(){return!!o[t]()||"​᠎"!="​᠎"[t]()||o[t].name!==t}))}},246:function(t,e,n){"use strict";var r=n(2),o=n(247),c=n(22),d=n(14),l=n(46),f=n(87);r({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=c(this),n=d(e.length),r=f(e,0);return r.length=o(r,e,e,n,0,void 0===t?1:l(t)),r}})},247:function(t,e,n){"use strict";var r=n(68),o=n(14),c=n(51),d=function(t,e,source,n,l,f,h,y){for(var element,m=l,v=0,_=!!h&&c(h,y,3);v<n;){if(v in source){if(element=_?_(source[v],v,e):source[v],f>0&&r(element))m=d(t,e,element,o(element.length),m,f-1)-1;else{if(m>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[m]=element}m++}v++}return m};t.exports=d},248:function(t,e,n){"use strict";n(238)},249:function(t,e,n){var r=n(63)(!1);r.push([t.i,"main[data-v-641fcacc]{margin:1em auto;display:table}main .info[data-v-641fcacc]{text-align:right}main .display[data-v-641fcacc]{font-size:5rem;padding:2em 0;text-align:center}main .display.doing[data-v-641fcacc]{text-align:left}main .display .typed[data-v-641fcacc]{color:#aaa}main .keyboard[data-v-641fcacc]>:nth-child(2){margin-left:2em}main .keyboard[data-v-641fcacc]>:nth-child(3){margin-left:3em}main .keyboard[data-v-641fcacc]>:nth-child(5){margin-left:14em}main .keyboard ul[data-v-641fcacc]{display:flex;padding:0;list-style-type:none;position:relative}main .keyboard ul li[data-v-641fcacc]{border:1px solid #ddd;width:4em;line-height:4em;min-height:4em;text-align:center;margin:.1rem}main .keyboard ul li.pressed[data-v-641fcacc]{background-color:#faa;transform:translateY(.1rem)}main .keyboard ul li.key_Space[data-v-641fcacc]{width:19.8em}main .keyboard ul li.key_ShiftLeft[data-v-641fcacc]{width:5em}main .keyboard ul li.key_ShiftRight[data-v-641fcacc]{width:7.2em}main .keyboard ul li.key_Enter[data-v-641fcacc]{position:absolute;right:0;width:6.2em;height:8.5em;border-left:none;border-bottom:none}main .histories[data-v-641fcacc]{max-height:30rem;overflow:auto}main .histories>ul[data-v-641fcacc]{display:flex;flex-direction:column-reverse}main .histories .miss_words[data-v-641fcacc]{display:flex;list-style-type:none;padding:0}main .histories .miss_word[data-v-641fcacc]{padding:0 1rem;border-radius:.5em;background-color:#faa;color:red;margin:.1rem}",""]),t.exports=r},254:function(t,e,n){"use strict";n.r(e);n(23),n(28),n(38),n(39);var r=n(5),o=n(116),c=n(117),d=(n(40),n(43),n(41),n(36),n(65),n(50),n(174),n(243),n(244),n(246),n(37),n(20),n(172),n(8),n(24),n(171),n(53),n(54),n(1));function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,d=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){d=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(d)throw o}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var h=function(){function t(text){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date;Object(o.a)(this,t),this.text=text,this.start=e,this.typed=n,this.end=r}return Object(c.a)(t,[{key:"duration",get:function(){return this.end.getTime()-this.start.getTime()}},{key:"miss_count",get:function(){return this.typed.length-this.text.length}}],[{key:"from",value:function(e){return new t(e.text,new Date(e.start),e.typed,new Date(e.end))}}]),t}(),y=function(){function t(e){Object(o.a)(this,t),this.records=e}return Object(c.a)(t,[{key:"miss_words",get:function(){return this.records.filter((function(i){return i.text!=i.typed})).map((function(i){return i.text}))}},{key:"toString",value:function(){var t=this.records.reduce((function(p,t){return p+t.duration}),0),e=Math.floor(t/1e3),n=("000"+t%1e3).slice(-3),r=this.records.reduce((function(p,t){return p+t.typed.length}),0),o=this.records.reduce((function(p,t){return p+t.text.length}),0),c=o/(t/1e3);return"[".concat(this.records[0].start.toLocaleString(),"] ").concat(this.records.length,"単語 ").concat(e,".").concat(n," 秒 タイプ数 ").concat(r," ミス数 ").concat(r-o," 速度 ").concat(Math.floor(c),".").concat(("00"+Math.floor(100*c)).slice(-2)," 文字/秒")}}],[{key:"from",value:function(e){return new t(e.records.map(h.from))}}]),t}(),m=function(){function t(label,code,e){Object(o.a)(this,t),this.label=label,this.code=code,this.clazz=e}return Object(c.a)(t,null,[{key:"from",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.map((function(i){var a=i.split("\t");return new t(a[0],Number(a[1]),a[2])}))}}]),t}(),v=d.a.extend({data:function(){return{typed:"",text:"",key_layouts:[m.from("1\t49","2\t50","3\t51","4\t52","5\t53","6\t54","7\t55","8\t56","9\t57","0\t48","-\t189","^\t222","\\\t220","←\t8"),m.from("Q\t81","W\t87","E\t69","R\t82","T\t84","Y\t89","U\t85","I\t73","O\t79","P\t80","@\t192","[\t219","Enter\t13\tEnter"),m.from("A\t65","S\t83","D\t68","F\t70","G\t71","H\t72","J\t74","K\t75","L\t76",";\t187",":\t186","]\t221"),m.from("Shift\t16\tShiftLeft","Z\t90","X\t88","C\t67","V\t86","B\t66","N\t78","M\t77",",\t188",".\t190","/\t191","_\t226","Shift\t16\tShiftRight"),m.from(" \t32\tSpace")],pressed:[],words:["abc","def"],indexes:[],records:[],doing:!1,histories:[]}},fetch:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("https://pumi.tech/api/words",{headers:{"Content-Type":"text/plain"},responseType:"text"});case 2:t.words=e.sent.split(/\r?\n/).filter((function(i){return i.trim().length>0}));case 3:case"end":return e.stop()}}),e)})))()},mounted:function(){this.histories=localStorage.typing__histories&&JSON.parse(localStorage.typing__histories).map(y.from)||[],this.$nuxt.$emit("sidebar_disabled",!0),document.addEventListener("keydown",this.keydown),document.addEventListener("keyup",this.keyup)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown),document.removeEventListener("keyup",this.keyup)},computed:{keys:function(){return this.key_layouts.flat()},will_typing:function(){return this.text.substr(this.typed.length)},record:function(){return this.records[this.records.length-1]}},methods:{keydown:function(t){if(console.log(t),t.preventDefault(),!this.doing&&32==t.keyCode){this.indexes=Array.from(Array(this.words.length)).map((function(t,i){return i}));var e,n=l(this.indexes);try{for(n.s();!(e=n.n()).done;){var i=e.value,r=Math.floor(Math.random()*this.words.length),o=[this.indexes[i],this.indexes[r]];this.indexes[r]=o[0],this.indexes[i]=o[1]}}catch(t){n.e(t)}finally{n.f()}return this.next(),void(this.doing=!0)}var c=this.keys.find((function(i){return i.code==t.keyCode}));if(null!=c){if(this.pressed.push(c.code),!this.doing)return;this.record.typed+=t.key,this.will_typing.charAt(0)==t.key&&(this.typed=this.typed+t.key),this.typed==this.text&&(this.record.text=this.text,this.next())}},keyup:function(t){t.preventDefault();var e=this.pressed.indexOf(t.keyCode);e>=0&&this.pressed.splice(e,1)},next:function(){this.typed="",this.record&&(this.record.end=new Date),this.indexes.length<=0?(this.doing=!1,this.histories.push(new y(this.records)),this.records=[],this.text=""):(this.text=this.words[this.indexes.shift()],this.records.push(new h(this.text)))},key_class:function(t){var e={pressed:this.pressed.includes(t.code)};return t.clazz&&(e["key_"+t.clazz]=!0),e}},watch:{histories:function(t){localStorage&&(localStorage.typing__histories=JSON.stringify(t))}}}),_=(n(248),n(44)),component=Object(_.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",[t.doing?n("div",{staticClass:"info"},[t._v("あと "+t._s(t.indexes.length+1))]):t._e(),t._v(" "),n("div",{class:{display:!0,doing:t.doing}},[t.doing?[n("span",{staticClass:"typed"},[t._v(t._s(t.typed))]),n("span",{staticClass:"text"},[t._v(t._s(t.will_typing))])]:n("span",[t._v("スペースキーで開始します")])],2),t._v(" "),n("div",{staticClass:"keyboard"},t._l(t.key_layouts,(function(e,r){return n("ul",{key:r},t._l(e,(function(e,i){return n("li",{key:i,class:t.key_class(e)},[t._v("\n        "+t._s(e.label)+"\n      ")])})),0)})),0),t._v(" "),n("div",{staticClass:"histories"},[n("h3",[t._v("履歴")]),t._v(" "),n("span",{staticClass:"miss_word"},[t._v("ミスした単語")]),t._v(" "),n("ul",t._l(t.histories,(function(e,i){return n("li",{key:i},[t._v("\n        "+t._s(e)+"\n        "),n("ul",{staticClass:"miss_words"},t._l(e.miss_words,(function(e,r){return n("li",{key:r,staticClass:"miss_word"},[t._v("\n            "+t._s(e)+"\n          ")])})),0)])})),0)])])}),[],!1,null,"641fcacc",null);e.default=component.exports}}]);